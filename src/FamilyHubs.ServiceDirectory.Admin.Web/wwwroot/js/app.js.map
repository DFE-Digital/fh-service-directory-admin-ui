{"version":3,"sources":["tmp/js/app.js"],"names":["fhgov","this","init","restoreConditionalInputs","enhanceAccessibleAutocomplete","element","document","querySelector","HTMLElement","click","modelLaOrganisationName","getElementById","accessibleAutocomplete","enhanceSelectElement","defaultValue","value","name","selectElement","modelVcsOrganisationName","setupLanguageAutocompleteWhenAddAnother","querySelectorAll","forEach","select","input","id","replace","classList","contains","add","MutationObserver","mutationsList","observer","mutation","type","attributeName","observe","attributes","window","addEventListener"],"mappings":"AAAA,SAASA,QACLC,KAAKC,KAAO,WACRC,IACAC,GACR,EACI,IAAID,EAA2B,WAC3B,MAAME,EAAUC,SAASC,cAAc,6BACnCF,aAAmBG,aACnBH,EAAQI,OAEpB,EACQL,EAAgC,WAEhC,MAAMM,EAA0BJ,SAASK,eAAe,2BACpDD,GACAE,uBAAuBC,qBAAqB,CACxCC,aAAcJ,EAAwBK,MACtCC,KAAM,qBACNC,cAAeX,SAASC,cAAc,yBAI9C,MAAMW,EAA2BZ,SAASK,eAAe,4BACrDO,GACAN,uBAAuBC,qBAAqB,CACxCC,aAAcI,EAAyBH,MACvCC,KAAM,sBACNC,cAAeX,SAASC,cAAc,yBAGtD,CACA,CAKA,SAASY,wCAAwCd,GAC7C,KAAMA,aAAmBG,aACrB,OAEoBH,EAAQe,iBAAiB,2BACjCC,SAAQ,SAAUC,GAC9BV,uBAAuBC,qBAAqB,CACxCG,KAAM,eACNF,aAAc,GACdG,cAAeK,IAYnB,MAAMC,EAAQjB,SAASK,eAAeW,EAAOE,GAAGC,QAAQ,UAAW,KAInE,GAHKF,EAAMG,UAAUC,SAAS,gBAC1BJ,EAAMG,UAAUE,IAAI,eAEpBN,EAAOI,UAAUC,SAAS,uBAAwB,CAClDJ,EAAMG,UAAUE,IAAI,sBACH,IAAIC,kBAAiB,CAACC,EAAeC,KAClD,IAAK,IAAIC,KAAYF,EACK,eAAlBE,EAASC,MAAoD,UAA3BD,EAASE,gBACtCX,EAAMG,UAAUC,SAAS,gBAC1BJ,EAAMG,UAAUE,IAAI,eAEnBL,EAAMG,UAAUC,SAAS,uBAC1BJ,EAAMG,UAAUE,IAAI,sBAGhD,IAEqBO,QAAQZ,EAAO,CAAEa,YAAY,GAClD,CACA,GACA,CA9CAC,OAAOrC,MAAQ,IAAIA,MACnBM,SAASgC,iBAAiB,oBAAoB,WAC1CD,OAAOrC,MAAME,MACjB,IAgDAiB,wCAAwC","file":"app.js","sourcesContent":["function fhgov() {\n    this.init = function () {\n        restoreConditionalInputs();\n        enhanceAccessibleAutocomplete();\n    };\n    let restoreConditionalInputs = function () {\n        const element = document.querySelector(\"[data-conditional-active]\");\n        if (element instanceof HTMLElement) {\n            element.click();\n        }\n    };\n    let enhanceAccessibleAutocomplete = function () {\n        //WhichLocalAuthority.cshtml && AddOrganisationWhichLocalAuthority.cshtml\n        const modelLaOrganisationName = document.getElementById('modelLaOrganisationName');\n        if (modelLaOrganisationName) {\n            accessibleAutocomplete.enhanceSelectElement({\n                defaultValue: modelLaOrganisationName.value,\n                name: 'LaOrganisationName',\n                selectElement: document.querySelector('#LaOrganisationName')\n            });\n        }\n        //WhichVcsOrganisation.cshtml\n        const modelVcsOrganisationName = document.getElementById('modelVcsOrganisationName');\n        if (modelVcsOrganisationName) {\n            accessibleAutocomplete.enhanceSelectElement({\n                defaultValue: modelVcsOrganisationName.value,\n                name: 'VcsOrganisationName',\n                selectElement: document.querySelector('#VcsOrganisationName')\n            });\n        }\n    };\n}\nwindow.fhgov = new fhgov();\ndocument.addEventListener('DOMContentLoaded', function () {\n    window.fhgov.init();\n});\nfunction setupLanguageAutocompleteWhenAddAnother(element) {\n    if (!(element instanceof HTMLElement)) {\n        return;\n    }\n    const languageSelects = element.querySelectorAll(\"select[id^='language-']\"); // [id$='\\\\d+']\");\n    languageSelects.forEach(function (select) {\n        accessibleAutocomplete.enhanceSelectElement({\n            name: 'languageName',\n            defaultValue: '',\n            selectElement: select\n        });\n        // work around accessible-autocomplete not handling errors\n        // there's a discussion here about it...\n        // https://github.com/alphagov/accessible-autocomplete/issues/428\n        // but we've had to implement our own (hacky) solution by using MutationObserver\n        // and adding extra classes (with custom css) to the input element.\n        // I was going to package up this code into an exported function to ease reuse and maintanence,\n        // but someone is adding official support today (2024-01-12) so we should be able to remove this soon!\n        // https://github.com/alphagov/accessible-autocomplete/pull/602\n        //todo: fix aria-describedBy on the input too\n        // see https://github.com/alphagov/accessible-autocomplete/issues/589\n        const input = document.getElementById(select.id.replace('-select', ''));\n        if (!input.classList.contains('govuk-input')) {\n            input.classList.add('govuk-input');\n        }\n        if (select.classList.contains('govuk-select--error')) {\n            input.classList.add('govuk-input--error');\n            const observer = new MutationObserver((mutationsList, observer) => {\n                for (let mutation of mutationsList) {\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                        if (!input.classList.contains('govuk-input')) {\n                            input.classList.add('govuk-input');\n                        }\n                        if (!input.classList.contains('govuk-input--error')) {\n                            input.classList.add('govuk-input--error');\n                        }\n                    }\n                }\n            });\n            observer.observe(input, { attributes: true });\n        }\n    });\n}\n//todo: this is a hack - we want setupLanguageAutocompleteWhenAddAnother to be in the generated js file.\n// if we export it, it includes the export keyword in the generated js file\n// (but we use export in the other ts files, without the js containing export!)\n// so as a workaround we call it where it no-ops\nsetupLanguageAutocompleteWhenAddAnother(null);\nexport {};\n//});\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,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LFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDLENBQUMsYUFBYSxFQUFFLFFBQVEsRUFBRSxFQUFFO2dCQUM5RCxLQUFLLElBQUksUUFBUSxJQUFJLGFBQWEsRUFBRTtvQkFDaEMsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFlBQVksSUFBSSxRQUFRLENBQUMsYUFBYSxLQUFLLE9BQU8sRUFBRTt3QkFFdEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFOzRCQUMxQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQzt5QkFDdEM7d0JBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7NEJBQ2pELEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7eUJBQzdDO3FCQUNKO2lCQUNKO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFFSCxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1NBQ2pEO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsd0dBQXdHO0FBQ3hHLDJFQUEyRTtBQUMzRSwrRUFBK0U7QUFDL0UsZ0RBQWdEO0FBQ2hELHVDQUF1QyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUM5QyxLQUFLIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IH07XHJcblxyXG5kZWNsYXJlIGNvbnN0IGFjY2Vzc2libGVBdXRvY29tcGxldGU6IGFueTtcclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICAgICAgZmhnb3Y6IGFueTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmhnb3YoKSB7XHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmVzdG9yZUNvbmRpdGlvbmFsSW5wdXRzKCk7XHJcbiAgICAgICAgZW5oYW5jZUFjY2Vzc2libGVBdXRvY29tcGxldGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgbGV0IHJlc3RvcmVDb25kaXRpb25hbElucHV0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWNvbmRpdGlvbmFsLWFjdGl2ZV1cIik7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsaWNrKClcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxldCBlbmhhbmNlQWNjZXNzaWJsZUF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy9XaGljaExvY2FsQXV0aG9yaXR5LmNzaHRtbCAmJiBBZGRPcmdhbmlzYXRpb25XaGljaExvY2FsQXV0aG9yaXR5LmNzaHRtbFxyXG4gICAgICAgIGNvbnN0IG1vZGVsTGFPcmdhbmlzYXRpb25OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGVsTGFPcmdhbmlzYXRpb25OYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBpZiAobW9kZWxMYU9yZ2FuaXNhdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgYWNjZXNzaWJsZUF1dG9jb21wbGV0ZS5lbmhhbmNlU2VsZWN0RWxlbWVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG1vZGVsTGFPcmdhbmlzYXRpb25OYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ0xhT3JnYW5pc2F0aW9uTmFtZScsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGFPcmdhbmlzYXRpb25OYW1lJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1doaWNoVmNzT3JnYW5pc2F0aW9uLmNzaHRtbFxyXG4gICAgICAgIGNvbnN0IG1vZGVsVmNzT3JnYW5pc2F0aW9uTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RlbFZjc09yZ2FuaXNhdGlvbk5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGlmIChtb2RlbFZjc09yZ2FuaXNhdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgYWNjZXNzaWJsZUF1dG9jb21wbGV0ZS5lbmhhbmNlU2VsZWN0RWxlbWVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG1vZGVsVmNzT3JnYW5pc2F0aW9uTmFtZS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdWY3NPcmdhbmlzYXRpb25OYW1lJyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWY3NPcmdhbmlzYXRpb25OYW1lJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5maGdvdiA9IG5ldyBmaGdvdigpO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5maGdvdi5pbml0KCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc2V0dXBMYW5ndWFnZUF1dG9jb21wbGV0ZVdoZW5BZGRBbm90aGVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcblxyXG4gICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsYW5ndWFnZVNlbGVjdHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RbaWRePSdsYW5ndWFnZS0nXVwiKSBhcyBOb2RlTGlzdE9mPEhUTUxTZWxlY3RFbGVtZW50PjsgLy8gW2lkJD0nXFxcXGQrJ11cIik7XHJcblxyXG4gICAgbGFuZ3VhZ2VTZWxlY3RzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdCkge1xyXG4gICAgICAgIGFjY2Vzc2libGVBdXRvY29tcGxldGUuZW5oYW5jZVNlbGVjdEVsZW1lbnQoe1xyXG4gICAgICAgICAgICBuYW1lOiAnbGFuZ3VhZ2VOYW1lJyxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcclxuICAgICAgICAgICAgc2VsZWN0RWxlbWVudDogc2VsZWN0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHdvcmsgYXJvdW5kIGFjY2Vzc2libGUtYXV0b2NvbXBsZXRlIG5vdCBoYW5kbGluZyBlcnJvcnNcclxuICAgICAgICAvLyB0aGVyZSdzIGEgZGlzY3Vzc2lvbiBoZXJlIGFib3V0IGl0Li4uXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FscGhhZ292L2FjY2Vzc2libGUtYXV0b2NvbXBsZXRlL2lzc3Vlcy80MjhcclxuICAgICAgICAvLyBidXQgd2UndmUgaGFkIHRvIGltcGxlbWVudCBvdXIgb3duIChoYWNreSkgc29sdXRpb24gYnkgdXNpbmcgTXV0YXRpb25PYnNlcnZlclxyXG4gICAgICAgIC8vIGFuZCBhZGRpbmcgZXh0cmEgY2xhc3NlcyAod2l0aCBjdXN0b20gY3NzKSB0byB0aGUgaW5wdXQgZWxlbWVudC5cclxuXHJcbiAgICAgICAgLy8gSSB3YXMgZ29pbmcgdG8gcGFja2FnZSB1cCB0aGlzIGNvZGUgaW50byBhbiBleHBvcnRlZCBmdW5jdGlvbiB0byBlYXNlIHJldXNlIGFuZCBtYWludGFuZW5jZSxcclxuICAgICAgICAvLyBidXQgc29tZW9uZSBpcyBhZGRpbmcgb2ZmaWNpYWwgc3VwcG9ydCB0b2RheSAoMjAyNC0wMS0xMikgc28gd2Ugc2hvdWxkIGJlIGFibGUgdG8gcmVtb3ZlIHRoaXMgc29vbiFcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYWxwaGFnb3YvYWNjZXNzaWJsZS1hdXRvY29tcGxldGUvcHVsbC82MDJcclxuXHJcbiAgICAgICAgLy90b2RvOiBmaXggYXJpYS1kZXNjcmliZWRCeSBvbiB0aGUgaW5wdXQgdG9vXHJcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHBoYWdvdi9hY2Nlc3NpYmxlLWF1dG9jb21wbGV0ZS9pc3N1ZXMvNTg5XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0LmlkLnJlcGxhY2UoJy1zZWxlY3QnLCAnJykpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2dvdnVrLWlucHV0JykpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnZ292dWstaW5wdXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdnb3Z1ay1zZWxlY3QtLWVycm9yJykpIHtcclxuXHJcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWlucHV0LS1lcnJvcicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdnb3Z1ay1pbnB1dCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdnb3Z1ay1pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmNsYXNzTGlzdC5jb250YWlucygnZ292dWstaW5wdXQtLWVycm9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWlucHV0LS1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoaW5wdXQsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy90b2RvOiB0aGlzIGlzIGEgaGFjayAtIHdlIHdhbnQgc2V0dXBMYW5ndWFnZUF1dG9jb21wbGV0ZVdoZW5BZGRBbm90aGVyIHRvIGJlIGluIHRoZSBnZW5lcmF0ZWQganMgZmlsZS5cclxuLy8gaWYgd2UgZXhwb3J0IGl0LCBpdCBpbmNsdWRlcyB0aGUgZXhwb3J0IGtleXdvcmQgaW4gdGhlIGdlbmVyYXRlZCBqcyBmaWxlXHJcbi8vIChidXQgd2UgdXNlIGV4cG9ydCBpbiB0aGUgb3RoZXIgdHMgZmlsZXMsIHdpdGhvdXQgdGhlIGpzIGNvbnRhaW5pbmcgZXhwb3J0ISlcclxuLy8gc28gYXMgYSB3b3JrYXJvdW5kIHdlIGNhbGwgaXQgd2hlcmUgaXQgbm8tb3BzXHJcbnNldHVwTGFuZ3VhZ2VBdXRvY29tcGxldGVXaGVuQWRkQW5vdGhlcihudWxsKTtcclxuLy99KTsiXX0=\n"]}